<section>
  <h1>What ingredient do you want to know more about?</h1>

  <mat-expansion-panel
    class="sort-filter"
    (opened)="panelOpenState.set(true)"
    (closed)="panelOpenState.set(false)"
    [hideToggle]="true"
  >
    <mat-expansion-panel-header class="sort-filter--header">
      <mat-panel-title class="sort-filter--title">
        <mat-icon class="accent">sort</mat-icon>
        <span>Sort and Filter</span>
      </mat-panel-title>
      <div>{{ this.appStore.$ingredients().meta.itemCount }} ingredients</div>
    </mat-expansion-panel-header>
    <app-ingredient-filter></app-ingredient-filter>
  </mat-expansion-panel>

  @if (!appStore.$loading()) {
    <app-ingredient-table
      [data]="appStore.$ingredients()"
      [filter]="appStore.$ingredientFilter()"
      (sortingPageChange)="sortPageChange($event)"
      (editRow)="viewIngredient($event)"
    >
    </app-ingredient-table>
  } @else {
    <div class="loading-wrapper">
      <app-loading-indicator></app-loading-indicator>
    </div>
  }
</section>
