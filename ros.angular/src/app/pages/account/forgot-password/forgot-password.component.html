<mat-card-header>
  <mat-card-title>
    <h2 class="flex-box">
      <mat-icon aria-hidden="false" aria-label="Forgot Password" class="mr-2">memory</mat-icon>Forgot Password
    </h2>
  </mat-card-title>
</mat-card-header>
<div>
  @switch (showLookInYourEmail) {
    @default {
      <form [formGroup]="form" mat-card-content>
        <mat-form-field class="mt-1 w-100" appearance="outline">
          <mat-label>Email address to send reset code to?</mat-label>
          <mat-icon matPrefix class="pr-1">email</mat-icon>
          <input
            matInput
            type="email"
            placeholder="Email *"
            Title="Email"
            (keyup.enter)="forgotPassword()"
            formControlName="email"
          />
        </mat-form-field>
        @for (validation of validationMessages.email; track validation) {
          @if (f.email.hasError(validation.type) && (f.email.dirty || f.email.touched)) {
            <mat-error class="error-message">
              <span [innerHTML]="validation.message"></span>
            </mat-error>
          }
        }
        <div class="button-actions">
          <button mat-flat-button type="button" class="mr-1" aria-label="Cancel" routerLink="/account/login">
            Cancel
          </button>
          <app-save-button
            [dirty]="form.dirty"
            [valid]="form.valid"
            [isSaving]="isSubmitting"
            color="accent"
            label="Submit"
            (save)="forgotPassword()"
          ></app-save-button>
        </div>
      </form>
    }
    @case (true) {
      <div>Please check your email or your spam folder for a password reset link.</div>
    }
  }
</div>
